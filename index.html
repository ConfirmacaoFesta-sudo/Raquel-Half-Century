<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Raquel ‚Äî Half century | RSVP</title>
  <meta name="description" content="Confirma√ß√£o de presen√ßa ‚Äî Anivers√°rio de 50 anos da Raquel (27/09/2025 √†s 17h)" />

<!-- Open Graph (WhatsApp / FB / Telegram) -->
<meta property="og:site_name" content="Raquel ‚Äî Half Century" />
<meta property="og:title" content="Raquel ‚Äî Half century | RSVP" />
<meta property="og:description" content="Confirma√ß√£o de presen√ßa ‚Äî 27/09/2025 √†s 17h ‚Ä¢ Resid√™ncia da Laura, Av. Dolor Barreira, 1350 ‚Äî Dunas" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://confirmacaofesta-sudo.github.io/Raquel-Half-Century/" />
<meta property="og:image" content="https://confirmacaofesta-sudo.github.io/Raquel-Half-Century/capa.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />

<!-- Twitter / X -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Raquel ‚Äî Half century | RSVP" />
<meta name="twitter:description" content="Confirma√ß√£o de presen√ßa ‚Äî 27/09/2025 √†s 17h ‚Ä¢ Resid√™ncia da Laura, Av. Dolor Barreira, 1350 ‚Äî Dunas" />
<meta name="twitter:image" content="https://confirmacaofesta-sudo.github.io/Raquel-Half-Century/capa.png" />


  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;600;700&family=Great+Vibes&display=swap" rel="stylesheet">

  <style>
    :root{ --bg:#0B160F; --panel:#0F1B13; --gold:#CFA764; --gold2:#E1B866; --ink:#1B1C17; --text:#F5E6C8; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{ margin:0; font-family: 'EB Garamond', serif; color:var(--text); background: var(--bg);
      background-image: radial-gradient(1200px 400px at -10% -10%, rgba(22,49,35,1) 0%, rgba(11,22,15,0.9) 60%, transparent 100%),
                       radial-gradient(800px 300px at 110% 10%, rgba(31,61,44,1) 0%, rgba(11,22,15,0.9) 55%, transparent 100%),
                       radial-gradient(circle at 20% 15%, rgba(242,198,109,0.18), transparent 40%),
                       radial-gradient(circle at 80% 70%, rgba(242,198,109,0.12), transparent 45%); }
    .container{max-width:1024px;margin:0 auto;padding:0 24px}
    .center{text-align:center}
    h1{font-family:'EB Garamond',serif;font-weight:600;letter-spacing:.02em;margin:0;font-size:48px}
    @media(min-width:768px){h1{font-size:64px}}
    .script{font-family:'Great Vibes',cursive;color:var(--gold2);font-size:28px;margin-top:6px}
    .muted{color:rgba(245,230,200,.9)}
    .hero{position:relative;overflow:hidden;padding:80px 0 40px}
    .vein{position:absolute;left:0;right:0;height:4px;opacity:.6;background:linear-gradient(90deg, transparent, #d3a247 30%, transparent)}
    .vein.bottom{bottom:90px;opacity:.4;background:linear-gradient(90deg, transparent, #c08a2a 60%, transparent)}
    .counter{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;max-width:420px;margin:24px auto 0}
    .card{border:1px solid rgba(207,167,100,.4);background:#0e1a1499;backdrop-filter:saturate(120%) blur(4px);border-radius:16px;padding:16px;box-shadow:0 8px 24px rgba(0,0,0,.25)}
    .card b{display:block;font-size:28px}
    .btn{display:inline-flex;align-items:center;justify-content:center;border-radius:14px;border:1px solid rgba(207,167,100,.5);padding:12px 18px;font-weight:600;color:var(--text);text-decoration:none;background:transparent;transition:.2s ease}
    .btn:hover{background:rgba(255,255,255,.06)}
    .btn-gold{background:var(--gold); border-color:var(--gold); color:var(--ink)}
    .btn-gold:disabled{opacity:.5;cursor:not-allowed}
    .btn-gold:hover:not(:disabled){filter:brightness(1.05)}
    .pill{border-radius:16px;border:1px solid rgba(207,167,100,.45);padding:12px 16px;background:transparent;color:var(--text);cursor:pointer;font-family:'EB Garamond',serif}
    .pill.active{background:var(--gold);color:var(--ink);border-color:var(--gold)}
    .grid{display:grid;gap:12px}
    .grid-2{grid-template-columns:repeat(2,1fr)}
    .grid-3{grid-template-columns:repeat(3,1fr)}
    .panel{background:var(--panel);border:1px solid rgba(207,167,100,.35);border-radius:20px;padding:24px;box-shadow:0 10px 30px rgba(0,0,0,.3)}
    footer{padding:24px 0;border-top:1px solid rgba(207,167,100,.35);background:rgba(0,0,0,.35);text-align:center}
    input[type=text]{padding:10px 12px;border-radius:12px;border:1px solid rgba(207,167,100,.45);background:transparent;color:var(--text);font-family:'EB Garamond',serif;font-size:18px}
    /* Sucesso e anima√ß√µes */
.success-wrap{ text-align:center; padding:32px 12px }
.success-title{ font-size:32px; margin:8px 0; color:var(--gold2); font-family:'EB Garamond',serif; }
.success-sub{ color:rgba(245,230,200,.9); font-size:18px; margin:4px 0 0 }
.big-check{
  width:80px;height:80px;margin:0 auto 12px;border-radius:50%;
  border:2px solid var(--gold2); display:grid; place-items:center; font-size:42px; color:var(--gold2);
  box-shadow:0 0 0 6px rgba(225,184,102,.15);
}
.fade-out{ animation:fadeOut .28s ease forwards }
.fade-in{ animation:fadeIn .32s ease forwards }
@keyframes fadeOut{ from{opacity:1;transform:scale(1)} to{opacity:.6;transform:scale(.98)} }
@keyframes fadeIn{ from{opacity:.6;transform:scale(.98)} to{opacity:1;transform:scale(1)} }

  </style>
</head>
<body>
  <header class="hero">
    <div class="vein" style="top:24px"></div>
    <div class="vein bottom"></div>

    <div class="container center" style="padding: 70px 0 10px;">
      <h1>RAQUEL</h1>
      <div class="script">Half century</div>
      <p class="muted" id="event-date"></p>
      <p class="muted" id="event-location"></p>
      <div class="counter" id="counter"></div>
      <div style="margin-top:16px">
        <a id="maps" class="btn" target="_blank" rel="noreferrer">üìç Ver no Google Maps</a>
      </div>
    </div>
  </header>

  <main class="container" style="padding: 24px 0 40px">
    <section class="panel" id="rsvp-section">
      <h2 class="center" style="font-family:'EB Garamond',serif;margin:0 0 4px;font-size:28px">Confirme sua presen√ßa</h2>
      <p class="center muted" style="margin:0 0 18px">Responda √†s perguntas abaixo.</p>

      <form id="rsvp-form" class="grid" onsubmit="return false">
        <fieldset class="grid">
          <legend class="muted" style="font-size:14px;letter-spacing:.05em;text-transform:uppercase">Nome</legend>
          <input type="text" id="guest-name" placeholder="Digite seu nome e sobrenome" required>
        </fieldset>

        <fieldset class="grid">
          <legend class="muted" style="font-size:14px;letter-spacing:.05em;text-transform:uppercase">Voc√™ vai para o Half Century?</legend>
          <div class="grid grid-2">
            <button type="button" class="pill" data-attend="sim">Sim</button>
            <button type="button" class="pill" data-attend="nao">N√£o</button>
          </div>
        </fieldset>

        <fieldset class="grid">
          <legend class="muted" style="font-size:14px;letter-spacing:.05em;text-transform:uppercase">Quantos acompanhantes?</legend>
          <div class="grid grid-3">
            <button type="button" class="pill" data-people="0">0</button>
            <button type="button" class="pill" data-people="1">1</button>
            <button type="button" class="pill" data-people="2">2</button>
          </div>
        </fieldset>

        <div class="center" style="margin-top:12px">
          <button class="btn btn-gold" id="confirm" style="min-width:180px" disabled>Confirmar</button>
        </div>
        <p class="center muted" id="status" style="margin-top:12px"></p>
      </form>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>Com carinho, fam√≠lia e amigos da Raquel.</p>
      <p id="share" style="opacity:.8"></p>
    </div>
  </footer>

<script>
const EVENT = {
  title: "RAQUEL",
  subtitle: "Half century",
  dateISO: "2025-09-27T17:00:00-03:00",
  addressLabel: "Resid√™ncia da Laura ‚Äì Av. Dolor Barreira, 1350 ‚Äì Dunas, Fortaleza/CE",
  mapsQuery: "Resid√™ncia da Laura, Av. Dolor Barreira 1350, Dunas, Fortaleza",
  // URL do seu Google Apps Script publicado como Web App:
  googleScriptURL: "https://script.google.com/macros/s/AKfycbyzxQgrFkLUUZRag_nWyw5fDqsE-Nf5jsKjREKkLi0ajFXyCD-os-nW9ia7Q8lhqT45/exec"
};

function formatDateLong(date) {
  return new Intl.DateTimeFormat("pt-BR", { weekday: "long", day: "2-digit", month: "long", year: "numeric", hour: "2-digit", minute: "2-digit" }).format(date);
}
function updateInfo() {
  const d = new Date(EVENT.dateISO);
  document.getElementById("event-date").textContent = formatDateLong(d);
  document.getElementById("event-location").textContent = EVENT.addressLabel;
  document.getElementById("maps").href = "https://www.google.com/maps/search/?api=1&query=" + encodeURIComponent(EVENT.mapsQuery);
  document.getElementById("share").textContent = "Link: " + (location.href || "(quando publicado)");
}
function runCounter() {
  const root = document.getElementById("counter");
  function tick() {
    const now = Date.now();
    const target = new Date(EVENT.dateISO).getTime();
    const diff = Math.max(0, target - now);
    const days = Math.floor(diff / 86400000);
    const hours = Math.floor((diff / 3600000) % 24);
    const minutes = Math.floor((diff / 60000) % 60);
    const seconds = Math.floor((diff / 1000) % 60);
    root.innerHTML = ["dias","horas","min","seg"].map((label,i)=>{
      const v = [days,hours,minutes,seconds][i];
      return '<div class="card"><b>'+String(v).padStart(2,"0")+'</b><span style="font-size:11px;letter-spacing:.12em;text-transform:uppercase;opacity:.85">'+label+'</span></div>';
    }).join("");
  }
  tick(); setInterval(tick,1000);
}

let attending = null; let people = null;
function updateButtons() {
  document.querySelectorAll("[data-attend]").forEach(btn => { btn.classList.toggle("active", btn.getAttribute("data-attend") === attending); });
  document.querySelectorAll("[data-people]").forEach(btn => { btn.classList.toggle("active", Number(btn.getAttribute("data-people")) === people); });
  const name = (document.getElementById("guest-name").value || '').trim();
  const allFilled = name && attending !== null && people !== null;
  document.getElementById("confirm").disabled = !allFilled;
}

async function postToSheet(payload){
  const url = EVENT.googleScriptURL || '';
  if(!/^https:\/\/script\.google\.com\/macros\/s\/[^/]+\/exec(?:\?.*)?$/.test(url)){
    throw new Error('URL do Apps Script ausente ou inv√°lida (precisa terminar com /exec).');
  }
  try{
    const resp = await fetch(url, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload)
    });
    if(!resp.ok) throw new Error('HTTP '+resp.status);
    return true;
  }catch(err){
    await fetch(url, { method: 'POST', mode: 'no-cors', body: JSON.stringify(payload) });
    return true;
  }
}

function initForm() {
  document.querySelectorAll("[data-attend]").forEach(btn => { btn.addEventListener("click", () => { attending = btn.getAttribute("data-attend"); updateButtons(); }); });
  document.querySelectorAll("[data-people]").forEach(btn => { btn.addEventListener("click", () => { people = Number(btn.getAttribute("data-people")); updateButtons(); }); });
  document.getElementById("guest-name").addEventListener("input", updateButtons);

  document.getElementById("confirm").addEventListener("click", async (e) => {
    e.preventDefault();
    const name = (document.getElementById("guest-name").value || '').trim();
    const payload = { Nome: name, 'Confirmado?': attending === 'sim' ? 'Sim' : 'N√£o', Acompanhantes: people };
    document.getElementById("status").textContent = "Enviando sua confirma√ß√£o...";
    try{
      await postToSheet(payload);

// troca o conte√∫do do painel por uma mensagem de sucesso
const panel = document.getElementById("rsvp-section");
panel.classList.add("fade-out");
setTimeout(() => {
  panel.innerHTML = `
    <div class="success-wrap">
      <div class="big-check">‚úì</div>
      <h2 class="success-title">Obrigada! üéâ</h2>
      <p class="success-sub">Sua resposta foi registrada.</p>
    </div>
  `;
  panel.classList.remove("fade-out");
  panel.classList.add("fade-in");
  // rola para o topo para destacar o cabe√ßalho e a contagem regressiva
  window.scrollTo({ top: 0, behavior: "smooth" });
}, 280);

    }catch(err){
      console.error(err);
      document.getElementById("status").textContent = "N√£o foi poss√≠vel enviar agora. Confirme se a URL do Apps Script √© /exec e est√° com acesso p√∫blico (Qualquer pessoa).";
    }
  });
  updateButtons();
}

updateInfo(); runCounter(); initForm();
</script>
</body>
</html>
